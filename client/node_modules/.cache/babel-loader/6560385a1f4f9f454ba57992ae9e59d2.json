{"ast":null,"code":"import { addUser, getAllUsers } from './../../DataBase/Users.js';\nimport { setLoggedUserId } from './../../LocalInfo/localInfo.js';\nlet initialState = [];\n\nconst registrationReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : intialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOG_IN:\n      {\n        let users = getAllUsers();\n\n        for (var i = 0; i < users.length; i++) {\n          if (users[i].usersInfo.name == action.username && users[i].usersInfo.password == action.password) {\n            console.log(setLoggedUserId(users[i].id));\n            return state;\n          }\n        }\n\n        return state;\n      }\n\n    case SIGN_UP:\n      {\n        let users = getAllUsers();\n\n        for (var i = 0; i < users.length; i++) {\n          if (users[i].usersInfo.email == action.email) {\n            return state;\n          }\n        }\n\n        setLoggedUserId(addUser(action.name, action.password, action.email));\n        return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default registrationReducer;\nexport const tryLogIn = (username, password) => ({\n  type: LOG_IN,\n  username: username,\n  password: password\n});\nexport const trySignUp = (username, password, email) => ({\n  type: SIGN_UP,\n  username: username,\n  password: password,\n  email: email\n});","map":{"version":3,"sources":["D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/webproject/src/redux/reducers/registrationReducer.js"],"names":["addUser","getAllUsers","setLoggedUserId","initialState","registrationReducer","state","intialState","action","type","LOG_IN","users","i","length","usersInfo","name","username","password","console","log","id","SIGN_UP","email","tryLogIn","trySignUp"],"mappings":"AAAA,SAAQA,OAAR,EAAiBC,WAAjB,QAAmC,2BAAnC;AACA,SAAQC,eAAR,QAA8B,gCAA9B;AAEA,IAAIC,YAAY,GAAG,EAAnB;;AAEA,MAAMC,mBAAmB,GAAG,YAAiC;AAAA,MAAhCC,KAAgC,uEAAxBC,WAAwB;AAAA,MAAXC,MAAW;;AAC3D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKC,MAAL;AAAY;AACV,YAAIC,KAAK,GAAGT,WAAW,EAAvB;;AACA,aAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,cAAID,KAAK,CAACC,CAAD,CAAL,CAASE,SAAT,CAAmBC,IAAnB,IAA2BP,MAAM,CAACQ,QAAlC,IAA8CL,KAAK,CAACC,CAAD,CAAL,CAASE,SAAT,CAAmBG,QAAnB,IAA+BT,MAAM,CAACS,QAAxF,EAAiG;AAC/FC,YAAAA,OAAO,CAACC,GAAR,CAAYhB,eAAe,CAACQ,KAAK,CAACC,CAAD,CAAL,CAASQ,EAAV,CAA3B;AACA,mBAAOd,KAAP;AACD;AACF;;AACD,eAAOA,KAAP;AACD;;AACD,SAAKe,OAAL;AAAa;AACX,YAAIV,KAAK,GAAGT,WAAW,EAAvB;;AACA,aAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,cAAID,KAAK,CAACC,CAAD,CAAL,CAASE,SAAT,CAAmBQ,KAAnB,IAA4Bd,MAAM,CAACc,KAAvC,EAA6C;AAC3C,mBAAOhB,KAAP;AACD;AACF;;AACDH,QAAAA,eAAe,CAACF,OAAO,CAACO,MAAM,CAACO,IAAR,EAAcP,MAAM,CAACS,QAArB,EAA+BT,MAAM,CAACc,KAAtC,CAAR,CAAf;AACA,eAAOhB,KAAP;AACD;;AAED;AACE,aAAOA,KAAP;AAvBJ;AAyBD,CA1BD;;AA4BA,eAAeD,mBAAf;AAEA,OAAO,MAAMkB,QAAQ,GAAG,CAACP,QAAD,EAAWC,QAAX,MACtB;AAACR,EAAAA,IAAI,EAAEC,MAAP;AAAeM,EAAAA,QAAQ,EAACA,QAAxB;AAAkCC,EAAAA,QAAQ,EAACA;AAA3C,CADsB,CAAjB;AAEP,OAAO,MAAMO,SAAS,GAAG,CAACR,QAAD,EAAWC,QAAX,EAAqBK,KAArB,MACvB;AAACb,EAAAA,IAAI,EAAEY,OAAP;AAAgBL,EAAAA,QAAQ,EAACA,QAAzB;AAAmCC,EAAAA,QAAQ,EAACA,QAA5C;AAAsDK,EAAAA,KAAK,EAACA;AAA5D,CADuB,CAAlB","sourcesContent":["import {addUser, getAllUsers} from './../../DataBase/Users.js'\r\nimport {setLoggedUserId} from './../../LocalInfo/localInfo.js'\r\n\r\nlet initialState = []\r\n\r\nconst registrationReducer = (state = intialState, action) => {\r\n  switch (action.type) {\r\n    case LOG_IN:{\r\n      let users = getAllUsers()\r\n      for (var i = 0; i < users.length; i++) {\r\n        if (users[i].usersInfo.name == action.username && users[i].usersInfo.password == action.password){\r\n          console.log(setLoggedUserId(users[i].id))\r\n          return state\r\n        }\r\n      }\r\n      return state\r\n    }\r\n    case SIGN_UP:{\r\n      let users = getAllUsers()\r\n      for (var i = 0; i < users.length; i++) {\r\n        if (users[i].usersInfo.email == action.email){\r\n          return state\r\n        }\r\n      }\r\n      setLoggedUserId(addUser(action.name, action.password, action.email))\r\n      return state\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default registrationReducer\r\n\r\nexport const tryLogIn = (username, password) => (\r\n  {type: LOG_IN, username:username, password:password});\r\nexport const trySignUp = (username, password, email) => (\r\n  {type: SIGN_UP, username:username, password:password, email:email});\r\n"]},"metadata":{},"sourceType":"module"}