{"ast":null,"code":"import { addUser, getAllUsers } from './../../DataBase/Users.js';\nimport { setLoggedUserId } from './../../LocalInfo/localInfo.js';\nconst LOG_IN = 'LOG-IN';\nconst SIGN_UP = 'SIGN-UP';\nlet initialState = [];\n\nconst registrationReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOG_IN:\n      {\n        setLoggedUserId(action.user.id);\n        return state;\n      }\n\n    case SIGN_UP:\n      {\n        let users = getAllUsers();\n        setLoggedUserId(users[users.length - 1].id);\n        return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default registrationReducer;\nexport const logIn = user_id => ({\n  type: LOG_IN,\n  user_id\n});\nexport const signUp = (username, password, email) => ({\n  type: SIGN_UP\n});","map":{"version":3,"sources":["D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/webproject/src/redux/reducers/registrationReducer.js"],"names":["addUser","getAllUsers","setLoggedUserId","LOG_IN","SIGN_UP","initialState","registrationReducer","state","action","type","user","id","users","length","logIn","user_id","signUp","username","password","email"],"mappings":"AAAA,SAAQA,OAAR,EAAiBC,WAAjB,QAAmC,2BAAnC;AACA,SAAQC,eAAR,QAA8B,gCAA9B;AAEA,MAAMC,MAAM,GAAG,QAAf;AACA,MAAMC,OAAO,GAAG,SAAhB;AAEA,IAAIC,YAAY,GAAG,EAAnB;;AAEA,MAAMC,mBAAmB,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBF,YAAyB;AAAA,MAAXG,MAAW;;AAC5D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,MAAL;AAAY;AACVD,QAAAA,eAAe,CAACM,MAAM,CAACE,IAAP,CAAYC,EAAb,CAAf;AACA,eAAOJ,KAAP;AACD;;AACD,SAAKH,OAAL;AAAa;AACX,YAAIQ,KAAK,GAAGX,WAAW,EAAvB;AACAC,QAAAA,eAAe,CAACU,KAAK,CAACA,KAAK,CAACC,MAAN,GAAa,CAAd,CAAL,CAAsBF,EAAvB,CAAf;AACA,eAAOJ,KAAP;AACD;;AAED;AACE,aAAOA,KAAP;AAZJ;AAcD,CAfD;;AAiBA,eAAeD,mBAAf;AAEA,OAAO,MAAMQ,KAAK,GAAIC,OAAD,KACnB;AAACN,EAAAA,IAAI,EAAEN,MAAP;AAAeY,EAAAA;AAAf,CADmB,CAAd;AAEP,OAAO,MAAMC,MAAM,GAAG,CAACC,QAAD,EAAWC,QAAX,EAAqBC,KAArB,MACpB;AAACV,EAAAA,IAAI,EAAEL;AAAP,CADoB,CAAf","sourcesContent":["import {addUser, getAllUsers} from './../../DataBase/Users.js'\r\nimport {setLoggedUserId} from './../../LocalInfo/localInfo.js'\r\n\r\nconst LOG_IN = 'LOG-IN';\r\nconst SIGN_UP = 'SIGN-UP';\r\n\r\nlet initialState = []\r\n\r\nconst registrationReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOG_IN:{\r\n      setLoggedUserId(action.user.id)\r\n      return state\r\n    }\r\n    case SIGN_UP:{\r\n      let users = getAllUsers()\r\n      setLoggedUserId(users[users.length-1].id)\r\n      return state\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default registrationReducer;\r\n\r\nexport const logIn = (user_id) => (\r\n  {type: LOG_IN, user_id});\r\nexport const signUp = (username, password, email) => (\r\n  {type: SIGN_UP});\r\n"]},"metadata":{},"sourceType":"module"}