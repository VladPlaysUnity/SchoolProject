{"ast":null,"code":"function Comment(id, staticInfo, dynamicInfo) {\n  this.id = id;\n  this.staticInfo = staticInfo;\n  this.dynamicInfo = dynamicInfo;\n}\n\n_c = Comment;\nlet comment0 = new Comment(0, {\n  author: 2,\n  place: 3,\n  content: 'lol'\n}, {\n  likes: [],\n  dislikes: []\n});\nlet comment1 = new Comment(1, {\n  author: 1,\n  place: 1,\n  content: 'olol'\n}, {\n  likes: [],\n  dislikes: []\n});\nlet comment2 = new Comment(2, {\n  author: 0,\n  place: 0,\n  content: 'lolo'\n}, {\n  likes: [],\n  dislikes: []\n});\nlet comment3 = new Comment(3, {\n  author: 1,\n  place: 2,\n  content: 'lool'\n}, {\n  likes: [],\n  dislikes: []\n});\nlet dbComments = {\n  comments: [comment0, comment1, comment2, comment3]\n};\nexport const addComment = (author_id, place_id, content) => {\n  //creates and adds comment to a db\n  let newComment = new Comment(dbComments.comments[dbComments.comments.length - 1].id + 1, {\n    author: author_id,\n    place: place_id,\n    content: content\n  }, {\n    likes: [],\n    dislikes: []\n  });\n  dbComments.comments.push(newComment);\n};\nexport const changeLikeOrDislikeOfComment = (user_id, comment_id, like_or_dislike) => {\n  //changes the list of likes or dislikes of mentioned comment in db\n  console.log(user_id, comment_id, like_or_dislike);\n\n  for (let i = 0; i < dbComments.comments.length; i++) {\n    if (dbComments.comments[i].id == comment_id) {\n      if (like_or_dislike == 'like') {\n        if (dbComments.comments[i].dynamicInfo.likes.includes(user_id)) {\n          for (let j = 0; j < dbComments.comments[i].dynamicInfo.likes.length; j++) {\n            if (dbComments.comments[i].dynamicInfo.likes[j] == user_id) {\n              dbComments.comments[i].dynamicInfo.likes.splice(j, 1);\n              return 'User has removed the like';\n            }\n          }\n        } else {\n          for (let j = 0; j < dbComments.comments[i].dynamicInfo.dislikes.length; j++) {\n            if (dbComments.comments[i].dynamicInfo.dislikes[j] == user_id) {\n              dbComments.comments[i].dynamicInfo.dislikes.splice(j, 1);\n            }\n          }\n\n          dbComments.comments[i].dynamicInfo.likes.push(user_id);\n          return 'Success!';\n        }\n      } else if (like_or_dislike == 'dislike') {\n        if (dbComments.comments[i].dynamicInfo.dislikes.includes(user_id)) {\n          for (let j = 0; j < dbComments.comments[i].dynamicInfo.dislikes.length; j++) {\n            if (dbComments.comments[i].dynamicInfo.dislikes[j] == user_id) {\n              dbComments.comments[i].dynamicInfo.dislikes.splice(j, 1);\n              return 'User has removed the dislike';\n            }\n          }\n        } else {\n          for (let j = 0; j < dbComments.comments[i].dynamicInfo.likes.length; j++) {\n            if (dbComments.comments[i].dynamicInfo.likes[j] == user_id) {\n              dbComments.comments[i].dynamicInfo.likes.splice(j, 1);\n            }\n          }\n\n          dbComments.comments[i].dynamicInfo.dislikes.push(user_id);\n          return 'Success!';\n        }\n      }\n    }\n  }\n};\nexport const getCommentById = comment_id => {\n  //returns comment whose id is metioned\n  for (let i = 0; i < dbComments.comments.length; i++) {\n    if (dbComments.comments[i].id == comment_id) {\n      return dbComments.comments[i];\n    }\n  }\n};\nexport const getUsersComments = user_id => {\n  //returns list of all comments of mentioned user\n  let usersComments = [];\n\n  for (let i = 0; i < dbComments.comments.length; i++) {\n    if (dbComments.comments[i].staticInfo.author == user_id) {\n      usersComments.push(dbComments.comments[i]);\n    }\n  }\n\n  return usersComments;\n};\nexport const getFictionsComments = fiction_id => {\n  //returns list of all comments which were written under mentioned fiction\n  let fictionsComments = [];\n\n  for (let i = 0; i < dbComments.comments.length; i++) {\n    if (dbComments.comments[i].staticInfo.place == fiction_id) {\n      fictionsComments.push(dbComments.comments[i]);\n    }\n  }\n\n  return fictionsComments;\n};\nexport const getStatusOfCommentFromUser = (user_id, comment_id) => {\n  //returns how user estimated the comment\n  for (let i = 0; i < dbComments.comments.length; i++) {\n    if (dbComments.comments[i].dynamicInfo.likes.includes(user_id)) {\n      return 'like';\n    } else if (dbComments.comments[i].dynamicInfo.dislikes.includes(user_id)) {\n      return 'dislike';\n    } else {\n      return '0';\n    }\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/webproject/src/DataBase/Comments.js"],"names":["Comment","id","staticInfo","dynamicInfo","comment0","author","place","content","likes","dislikes","comment1","comment2","comment3","dbComments","comments","addComment","author_id","place_id","newComment","length","push","changeLikeOrDislikeOfComment","user_id","comment_id","like_or_dislike","console","log","i","includes","j","splice","getCommentById","getUsersComments","usersComments","getFictionsComments","fiction_id","fictionsComments","getStatusOfCommentFromUser"],"mappings":"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","sourcesContent":["function Comment(id, staticInfo, dynamicInfo) {\r\n  this.id = id;\r\n  this.staticInfo = staticInfo;\r\n  this.dynamicInfo = dynamicInfo;\r\n}\r\n\r\nlet comment0 = new Comment(0, {author:2, place:3, content:'lol'}, {likes:[], dislikes:[]})\r\nlet comment1 = new Comment(1, {author:1, place:1, content:'olol'}, {likes:[], dislikes:[]})\r\nlet comment2 = new Comment(2, {author:0, place:0, content:'lolo'}, {likes:[], dislikes:[]})\r\nlet comment3 = new Comment(3, {author:1, place:2, content:'lool'}, {likes:[], dislikes:[]})\r\n\r\nlet dbComments = {comments: [comment0, comment1, comment2, comment3]}\r\n\r\n\r\nexport const addComment = (author_id, place_id, content) => {\r\n  //creates and adds comment to a db\r\n  let newComment = new Comment(dbComments.comments[dbComments.comments.length-1].id + 1, {author:author_id, place:place_id, content:content}, {likes:[], dislikes:[]})\r\n  dbComments.comments.push(newComment)\r\n}\r\n\r\nexport const changeLikeOrDislikeOfComment = (user_id, comment_id, like_or_dislike) =>{\r\n  //changes the list of likes or dislikes of mentioned comment in db\r\n  console.log(user_id, comment_id, like_or_dislike);\r\n  for (let i = 0; i < dbComments.comments.length; i++) {\r\n    if (dbComments.comments[i].id == comment_id){\r\n      if (like_or_dislike == 'like'){\r\n        if (dbComments.comments[i].dynamicInfo.likes.includes(user_id)){\r\n          for (let j = 0; j < dbComments.comments[i].dynamicInfo.likes.length; j++) {\r\n            if (dbComments.comments[i].dynamicInfo.likes[j] == user_id){\r\n              dbComments.comments[i].dynamicInfo.likes.splice(j,1)\r\n              return 'User has removed the like'\r\n            }\r\n          }\r\n        } else{\r\n          for (let j = 0; j < dbComments.comments[i].dynamicInfo.dislikes.length; j++) {\r\n            if (dbComments.comments[i].dynamicInfo.dislikes[j] == user_id){\r\n              dbComments.comments[i].dynamicInfo.dislikes.splice(j,1)\r\n            }\r\n          }\r\n          dbComments.comments[i].dynamicInfo.likes.push(user_id)\r\n          return 'Success!'\r\n        }\r\n      } else if(like_or_dislike == 'dislike'){\r\n       if (dbComments.comments[i].dynamicInfo.dislikes.includes(user_id)){\r\n         for (let j = 0; j < dbComments.comments[i].dynamicInfo.dislikes.length; j++) {\r\n           if (dbComments.comments[i].dynamicInfo.dislikes[j] == user_id){\r\n             dbComments.comments[i].dynamicInfo.dislikes.splice(j,1)\r\n             return 'User has removed the dislike'\r\n           }\r\n         }\r\n       } else{\r\n         for (let j = 0; j < dbComments.comments[i].dynamicInfo.likes.length; j++) {\r\n           if (dbComments.comments[i].dynamicInfo.likes[j] == user_id){\r\n             dbComments.comments[i].dynamicInfo.likes.splice(j,1)\r\n           }\r\n         }\r\n         dbComments.comments[i].dynamicInfo.dislikes.push(user_id)\r\n         return 'Success!'\r\n       }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const getCommentById = (comment_id) =>{\r\n  //returns comment whose id is metioned\r\n  for (let i = 0; i < dbComments.comments.length; i++) {\r\n    if (dbComments.comments[i].id == comment_id){\r\n      return dbComments.comments[i]\r\n    }\r\n  }\r\n}\r\n\r\nexport const getUsersComments = (user_id) =>{\r\n  //returns list of all comments of mentioned user\r\n  let usersComments = []\r\n  for (let i = 0; i < dbComments.comments.length; i++) {\r\n    if (dbComments.comments[i].staticInfo.author == user_id){\r\n      usersComments.push(dbComments.comments[i])\r\n    }\r\n  }\r\n  return usersComments\r\n}\r\n\r\nexport const getFictionsComments = (fiction_id) =>{\r\n  //returns list of all comments which were written under mentioned fiction\r\n  let fictionsComments = []\r\n  for (let i = 0; i < dbComments.comments.length; i++) {\r\n    if (dbComments.comments[i].staticInfo.place == fiction_id){\r\n      fictionsComments.push(dbComments.comments[i])\r\n    }\r\n  }\r\n  return fictionsComments\r\n}\r\n\r\nexport const getStatusOfCommentFromUser = (user_id, comment_id) =>{\r\n  //returns how user estimated the comment\r\n  for (let i = 0; i < dbComments.comments.length; i++) {\r\n      if (dbComments.comments[i].dynamicInfo.likes.includes(user_id)){\r\n        return 'like'\r\n      } else if (dbComments.comments[i].dynamicInfo.dislikes.includes(user_id)) {\r\n        return 'dislike'\r\n      } else{\r\n        return '0'\r\n      }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}