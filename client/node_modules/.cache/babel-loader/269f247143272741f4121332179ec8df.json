{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learning\\\\Litsey_10th_grade\\\\Informatics\\\\Fictionlib\\\\SchoolProject\\\\client\\\\src\\\\components\\\\Elems\\\\FictionElem\\\\fictionElem.jsx\",\n    _s = $RefreshSig$();\n\nimport s from './fictionElem.module.css';\nimport { NavLink } from \"react-router-dom\";\nimport { getOverallRatingOfFiction } from './../../../DataBase/Fictions.js';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FictionElem = props => {\n  _s();\n\n  const [overallRating, setOverallRating] = useState(0);\n  const [error, setError] = useState(null);\n  const [overallRIsLoaded, setOverallRIsLoaded] = useState(false);\n  useEffect(() => {\n    getOverallRatingOfFiction(props.iD).then(result => {\n      setOverallRating(result);\n      setOverallRIsLoaded(true);\n    });\n  }, [props]);\n  let fictionLink = '';\n  let author_or_director = '';\n  fictionLink = '/fiction/' + props.iD;\n\n  if (props.type == 'book') {\n    author_or_director = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Author:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 29\n      }, this), \" \", props.info.author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 26\n    }, this);\n  } else if (props.type == 'film') {\n    author_or_director = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Director:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 29\n      }, this), \" \", props.info.director]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 26\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  } else if (!overallRIsLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.fictionElem,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.coverPhoto,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.info.coverPhoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.details,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: props.info.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Genre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 14\n          }, this), \" \", props.info.genre]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), author_or_director, /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Date of release:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 14\n          }, this), \" \", props.info.releaseDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 14\n          }, this), \" \", props.info.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.rating,\n        children: [\"Rating:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 42\n        }, this), \"Loading...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.link_button,\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          to: fictionLink,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Look!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  } else if (overallRIsLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.fictionElem,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.coverPhoto,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.info.coverPhoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.details,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: props.info.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Genre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 14\n          }, this), \" \", props.info.genre]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), author_or_director, /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Date of release:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 14\n          }, this), \" \", props.info.releaseDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 14\n          }, this), \" \", props.info.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.rating,\n        children: [\"Rating:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 42\n        }, this), overallRating]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.link_button,\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          to: fictionLink,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Look!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(FictionElem, \"nqpdXuN9PYXT1gE9WobQarQKIZg=\");\n\n_c = FictionElem;\nexport default FictionElem;\n\nvar _c;\n\n$RefreshReg$(_c, \"FictionElem\");","map":{"version":3,"sources":["D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/SchoolProject/client/src/components/Elems/FictionElem/fictionElem.jsx"],"names":["s","NavLink","getOverallRatingOfFiction","useState","useEffect","FictionElem","props","overallRating","setOverallRating","error","setError","overallRIsLoaded","setOverallRIsLoaded","iD","then","result","fictionLink","author_or_director","type","info","author","director","message","fictionElem","coverPhoto","details","name","genre","releaseDate","description","rating","link_button"],"mappings":"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","sourcesContent":["import s from './fictionElem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {getOverallRatingOfFiction} from './../../../DataBase/Fictions.js'\r\nimport {useState, useEffect} from 'react'\r\n\r\nconst FictionElem = (props) =>{\r\n  const [overallRating, setOverallRating] = useState(0)\r\n  const [error, setError] = useState(null);\r\n  const [overallRIsLoaded, setOverallRIsLoaded] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    getOverallRatingOfFiction(props.iD)\r\n    .then((result)=>{\r\n      setOverallRating(result)\r\n      setOverallRIsLoaded(true)\r\n    })\r\n  }, [props])\r\n\r\n  let fictionLink = '';\r\n  let author_or_director = ''\r\n\r\n  fictionLink = '/fiction/' + props.iD;\r\n  if (props.type == 'book'){\r\n    author_or_director = <p><b>Author:</b> {props.info.author}</p>\r\n  } else if (props.type == 'film'){\r\n    author_or_director = <p><b>Director:</b> {props.info.director}</p>\r\n  }\r\n\r\n  if (error){\r\n    return <div>Error: {error.message}</div>\r\n  }else if(!overallRIsLoaded){\r\n    return (\r\n      <div className={s.fictionElem}>\r\n        <div className={s.coverPhoto}><img src={props.info.coverPhoto} /></div>\r\n        <div className={s.details}>\r\n          <h3>{props.info.name}</h3>\r\n          <p><b>Genre:</b> {props.info.genre}</p>\r\n          {author_or_director}\r\n          <p><b>Date of release:</b> {props.info.releaseDate}</p>\r\n          <p><b>Description:</b> {props.info.description}</p>\r\n        </div>\r\n        <div className={s.rating}>Rating:<br />Loading...</div>\r\n        <div className={s.link_button}><NavLink to={fictionLink}><button>Look!</button></NavLink></div>\r\n      </div>\r\n    )\r\n  } else if (overallRIsLoaded) {\r\n    return (\r\n      <div className={s.fictionElem}>\r\n        <div className={s.coverPhoto}><img src={props.info.coverPhoto} /></div>\r\n        <div className={s.details}>\r\n          <h3>{props.info.name}</h3>\r\n          <p><b>Genre:</b> {props.info.genre}</p>\r\n          {author_or_director}\r\n          <p><b>Date of release:</b> {props.info.releaseDate}</p>\r\n          <p><b>Description:</b> {props.info.description}</p>\r\n        </div>\r\n        <div className={s.rating}>Rating:<br />{overallRating}</div>\r\n        <div className={s.link_button}><NavLink to={fictionLink}><button>Look!</button></NavLink></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FictionElem;\r\n"]},"metadata":{},"sourceType":"module"}