{"ast":null,"code":"function Fiction(id, fictionInfo, type, overallRating) {\n  this.id = id;\n  this.info = fictionInfo;\n  this.type = type;\n  this.overallRating = overallRating;\n}\n\n_c = Fiction;\nlet fiction0 = new Fiction(0, {\n  coverPhoto: '',\n  name: 'Overgeared',\n  author: 'idk',\n  genre: 'lightnovel',\n  releaseDate: '12.04.2015',\n  description: 'description'\n}, 'book', [{\n  user: 1,\n  rating: 8\n}]);\nlet fiction1 = new Fiction(1, {\n  coverPhoto: '',\n  name: 'Solo-Leveling',\n  author: 'idk',\n  genre: 'lightnovel',\n  releaseDate: '3.10.2013',\n  description: 'description'\n}, 'book', [{\n  user: 2,\n  rating: 9\n}]);\nlet fiction2 = new Fiction(2, {\n  coverPhoto: '',\n  name: 'It',\n  director: 'idk',\n  genre: 'horror',\n  releaseDate: '3.10.2013',\n  description: 'description'\n}, 'film', []);\nlet fiction3 = new Fiction(3, {\n  coverPhoto: '',\n  name: 'It',\n  author: 'idk',\n  genre: 'horror',\n  releaseDate: '3.10.2013',\n  description: 'description'\n}, 'book', [{\n  user: 0,\n  rating: 7\n}]);\nlet fiction4 = new Fiction(4, {\n  coverPhoto: 'file://D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/webproject/src/images/ready_player_one.jpeg',\n  name: 'Ready Player One',\n  author: 'idk',\n  genre: 'sci-fi',\n  releaseDate: '3.10.2013',\n  description: 'description'\n}, 'film', [{\n  user: 1,\n  rating: 9\n}]);\nlet dbFictions = {\n  fictions: [fiction0, fiction1, fiction2, fiction3, fiction4]\n};\nexport const getFictionById = fiction_id => {\n  //returns fiction whose id was mentioned\n  for (let i = 0; i < dbFictions.fictions.length; i++) {\n    if (dbFictions.fictions[i].id == fiction_id) {\n      return dbFictions.fictions[i];\n    }\n  }\n};\nexport const getAllFictions = () => {\n  //returns list of all fictions\n  return dbFictions.fictions;\n};\nexport const getAllFilms = () => {\n  //returns all fictions whose type is film\n  let films = [];\n\n  for (let i = 0; i < dbFictions.fictions.length; i++) {\n    if (dbFictions.fictions[i].type == 'film') {\n      films.push(dbFictions.fictions[i]);\n    }\n  }\n\n  return films;\n};\nexport const getAllBooks = () => {\n  //returns all fictions whose type is film\n  let books = [];\n\n  for (let i = 0; i < dbFictions.fictions.length; i++) {\n    if (dbFictions.fictions[i].type == 'book') {\n      books.push(dbFictions.fictions[i]);\n    }\n  }\n\n  return books;\n};\nexport const getRatingOfFictionFromUser = (fiction_id, user_id) => {\n  //returns rating of mentioned fiction from mentioned user\n  for (let i = 0; i < dbFictions.fictions.length; i++) {\n    if (dbFictions.fictions[i].id == fiction_id) {\n      for (let j = 0; j < dbFictions.fictions[i].overallRating.length; j++) {\n        if (dbFictions.fictions[i].overallRating[j].user == user_id) {\n          return dbFictions.fictions[i].overallRating[j].rating;\n        }\n      }\n\n      return 0;\n    }\n  }\n};\nexport const getOverallRatingOfFiction = fiction_id => {\n  //return overall rating of fiction based on ratings of users in overallRating list\n  let overallRating = 0;\n\n  for (let i = 0; i < dbFictions.fictions.length; i++) {\n    if (dbFictions.fictions[i].id == fiction_id) {\n      for (let j = 0; j < dbFictions.fictions[i].overallRating.length; j++) {\n        overallRating += parseInt(dbFictions.fictions[i].overallRating[j].rating, 10);\n      }\n\n      overallRating = (overallRating / dbFictions.fictions[i].overallRating.length).toFixed(1);\n      return overallRating;\n    }\n  }\n};\nexport const changeUsersRatingOfFiction = (fiction_id, user_id, rating) => {\n  // changes mentioned user's rating of fiction in overallRating list of mentioned fiction\n  for (var i = 0; i < dbFictions.fictions.length; i++) {\n    if (dbFictions.fictions[i].id == fiction_id) {\n      for (var j = 0; j < dbFictions.fictions[i].overallRating.length; j++) {\n        if (dbFictions.fictions[i].overallRating[j].user == user_id) {\n          if (rating == '') {\n            dbFictions.fictions[i].overallRating.splice(j, 1);\n            return;\n          } else {\n            dbFictions.fictions[i].overallRating[j].rating = rating;\n            return;\n          }\n        }\n      }\n\n      dbFictions.fictions[i].overallRating.push({\n        user: user_id,\n        rating: rating\n      });\n      return;\n    }\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Fiction\");","map":{"version":3,"sources":["D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/webproject/src/DataBase/Fictions.js"],"names":["Fiction","id","fictionInfo","type","overallRating","info","fiction0","coverPhoto","name","author","genre","releaseDate","description","user","rating","fiction1","fiction2","director","fiction3","fiction4","dbFictions","fictions","getFictionById","fiction_id","i","length","getAllFictions","getAllFilms","films","push","getAllBooks","books","getRatingOfFictionFromUser","user_id","j","getOverallRatingOfFiction","parseInt","toFixed","changeUsersRatingOfFiction","splice"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,EAAjB,EAAqBC,WAArB,EAAkCC,IAAlC,EAAwCC,aAAxC,EAAuD;AACrD,OAAKH,EAAL,GAAUA,EAAV;AACA,OAAKI,IAAL,GAAYH,WAAZ;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,aAAL,GAAqBA,aAArB;AACD;;KALQJ,O;AAOT,IAAIM,QAAQ,GAAG,IAAIN,OAAJ,CAAY,CAAZ,EAAe;AAACO,EAAAA,UAAU,EAAC,EAAZ;AAAgBC,EAAAA,IAAI,EAAC,YAArB;AAAmCC,EAAAA,MAAM,EAAC,KAA1C;AAAiDC,EAAAA,KAAK,EAAC,YAAvD;AAAqEC,EAAAA,WAAW,EAAC,YAAjF;AAA+FC,EAAAA,WAAW,EAAC;AAA3G,CAAf,EAA0I,MAA1I,EAAkJ,CAAC;AAACC,EAAAA,IAAI,EAAC,CAAN;AAAQC,EAAAA,MAAM,EAAC;AAAf,CAAD,CAAlJ,CAAf;AACA,IAAIC,QAAQ,GAAG,IAAIf,OAAJ,CAAY,CAAZ,EAAe;AAACO,EAAAA,UAAU,EAAC,EAAZ;AAAgBC,EAAAA,IAAI,EAAC,eAArB;AAAsCC,EAAAA,MAAM,EAAC,KAA7C;AAAoDC,EAAAA,KAAK,EAAC,YAA1D;AAAwEC,EAAAA,WAAW,EAAC,WAApF;AAAiGC,EAAAA,WAAW,EAAC;AAA7G,CAAf,EAA4I,MAA5I,EAAoJ,CAAC;AAACC,EAAAA,IAAI,EAAC,CAAN;AAAQC,EAAAA,MAAM,EAAC;AAAf,CAAD,CAApJ,CAAf;AACA,IAAIE,QAAQ,GAAG,IAAIhB,OAAJ,CAAY,CAAZ,EAAe;AAACO,EAAAA,UAAU,EAAC,EAAZ;AAAgBC,EAAAA,IAAI,EAAC,IAArB;AAA2BS,EAAAA,QAAQ,EAAC,KAApC;AAA2CP,EAAAA,KAAK,EAAC,QAAjD;AAA2DC,EAAAA,WAAW,EAAC,WAAvE;AAAoFC,EAAAA,WAAW,EAAC;AAAhG,CAAf,EAA+H,MAA/H,EAAuI,EAAvI,CAAf;AACA,IAAIM,QAAQ,GAAG,IAAIlB,OAAJ,CAAY,CAAZ,EAAe;AAACO,EAAAA,UAAU,EAAC,EAAZ;AAAgBC,EAAAA,IAAI,EAAC,IAArB;AAA2BC,EAAAA,MAAM,EAAC,KAAlC;AAAyCC,EAAAA,KAAK,EAAC,QAA/C;AAAyDC,EAAAA,WAAW,EAAC,WAArE;AAAkFC,EAAAA,WAAW,EAAC;AAA9F,CAAf,EAA6H,MAA7H,EAAqI,CAAC;AAACC,EAAAA,IAAI,EAAC,CAAN;AAAQC,EAAAA,MAAM,EAAC;AAAf,CAAD,CAArI,CAAf;AACA,IAAIK,QAAQ,GAAG,IAAInB,OAAJ,CAAY,CAAZ,EAAe;AAACO,EAAAA,UAAU,EAAC,yGAAZ;AAAuHC,EAAAA,IAAI,EAAC,kBAA5H;AAAgJC,EAAAA,MAAM,EAAC,KAAvJ;AAA8JC,EAAAA,KAAK,EAAC,QAApK;AAA8KC,EAAAA,WAAW,EAAC,WAA1L;AAAuMC,EAAAA,WAAW,EAAC;AAAnN,CAAf,EAAkP,MAAlP,EAA0P,CAAC;AAACC,EAAAA,IAAI,EAAC,CAAN;AAAQC,EAAAA,MAAM,EAAC;AAAf,CAAD,CAA1P,CAAf;AAGA,IAAIM,UAAU,GAAG;AAACC,EAAAA,QAAQ,EAAC,CAACf,QAAD,EAAWS,QAAX,EAAqBC,QAArB,EAA+BE,QAA/B,EAAyCC,QAAzC;AAAV,CAAjB;AAGA,OAAO,MAAMG,cAAc,GAAIC,UAAD,IAAc;AAC1C;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEJ,UAAU,CAACC,QAAX,CAAoBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,QAAGJ,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBvB,EAAvB,IAA6BsB,UAAhC,EAA2C;AACzC,aAAOH,UAAU,CAACC,QAAX,CAAoBG,CAApB,CAAP;AACD;AACF;AACF,CAPM;AASP,OAAO,MAAME,cAAc,GAAG,MAAK;AACjC;AACA,SAAON,UAAU,CAACC,QAAlB;AACD,CAHM;AAKP,OAAO,MAAMM,WAAW,GAAG,MAAI;AAC7B;AACA,MAAIC,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEJ,UAAU,CAACC,QAAX,CAAoBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,QAAGJ,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBrB,IAAvB,IAA+B,MAAlC,EAAyC;AACvCyB,MAAAA,KAAK,CAACC,IAAN,CAAWT,UAAU,CAACC,QAAX,CAAoBG,CAApB,CAAX;AACD;AACF;;AACD,SAAOI,KAAP;AACD,CATM;AAWP,OAAO,MAAME,WAAW,GAAG,MAAI;AAC7B;AACA,MAAIC,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEJ,UAAU,CAACC,QAAX,CAAoBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,QAAGJ,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBrB,IAAvB,IAA+B,MAAlC,EAAyC;AACvC4B,MAAAA,KAAK,CAACF,IAAN,CAAWT,UAAU,CAACC,QAAX,CAAoBG,CAApB,CAAX;AACD;AACF;;AACD,SAAOO,KAAP;AACD,CATM;AAWP,OAAO,MAAMC,0BAA0B,GAAC,CAACT,UAAD,EAAaU,OAAb,KAAuB;AAC7D;AACA,OAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEJ,UAAU,CAACC,QAAX,CAAoBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,QAAGJ,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBvB,EAAvB,IAA6BsB,UAAhC,EAA2C;AACzC,WAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqCqB,MAAzD,EAAiES,CAAC,EAAlE,EAAsE;AACpE,YAAId,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqC8B,CAArC,EAAwCrB,IAAxC,IAAgDoB,OAApD,EAA6D;AAC3D,iBAAOb,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqC8B,CAArC,EAAwCpB,MAA/C;AACD;AACF;;AACD,aAAO,CAAP;AACD;AACF;AACF,CAZM;AAcP,OAAO,MAAMqB,yBAAyB,GAAIZ,UAAD,IAAc;AACrD;AACA,MAAInB,aAAa,GAAG,CAApB;;AACA,OAAK,IAAIoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEJ,UAAU,CAACC,QAAX,CAAoBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,QAAGJ,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBvB,EAAvB,IAA6BsB,UAAhC,EAA2C;AACzC,WAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqCqB,MAAzD,EAAiES,CAAC,EAAlE,EAAsE;AACpE9B,QAAAA,aAAa,IAAIgC,QAAQ,CAAChB,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqC8B,CAArC,EAAwCpB,MAAzC,EAAiD,EAAjD,CAAzB;AACD;;AACDV,MAAAA,aAAa,GAAG,CAACA,aAAa,GAACgB,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqCqB,MAApD,EAA4DY,OAA5D,CAAoE,CAApE,CAAhB;AACA,aAAOjC,aAAP;AACD;AACF;AACF,CAZM;AAcP,OAAO,MAAMkC,0BAA0B,GAAG,CAACf,UAAD,EAAaU,OAAb,EAAsBnB,MAAtB,KAAgC;AACxE;AACA,OAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEJ,UAAU,CAACC,QAAX,CAAoBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,QAAGJ,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBvB,EAAvB,IAA6BsB,UAAhC,EAA2C;AACzC,WAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqCqB,MAAzD,EAAiES,CAAC,EAAlE,EAAsE;AACpE,YAAId,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqC8B,CAArC,EAAwCrB,IAAxC,IAAgDoB,OAApD,EAA4D;AAC1D,cAAInB,MAAM,IAAI,EAAd,EAAiB;AACfM,YAAAA,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqCmC,MAArC,CAA4CL,CAA5C,EAA+C,CAA/C;AACA;AACD,WAHD,MAGO;AACLd,YAAAA,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqC8B,CAArC,EAAwCpB,MAAxC,GAAiDA,MAAjD;AACA;AACD;AACF;AACF;;AACDM,MAAAA,UAAU,CAACC,QAAX,CAAoBG,CAApB,EAAuBpB,aAAvB,CAAqCyB,IAArC,CAA0C;AAAChB,QAAAA,IAAI,EAAEoB,OAAP;AAAgBnB,QAAAA,MAAM,EAACA;AAAvB,OAA1C;AACA;AACD;AACF;AACF,CAnBM","sourcesContent":["function Fiction(id, fictionInfo, type, overallRating) {\r\n  this.id = id;\r\n  this.info = fictionInfo;\r\n  this.type = type;\r\n  this.overallRating = overallRating;\r\n}\r\n\r\nlet fiction0 = new Fiction(0, {coverPhoto:'', name:'Overgeared', author:'idk', genre:'lightnovel', releaseDate:'12.04.2015', description:'description'}, 'book', [{user:1,rating:8}])\r\nlet fiction1 = new Fiction(1, {coverPhoto:'', name:'Solo-Leveling', author:'idk', genre:'lightnovel', releaseDate:'3.10.2013', description:'description'}, 'book', [{user:2,rating:9}])\r\nlet fiction2 = new Fiction(2, {coverPhoto:'', name:'It', director:'idk', genre:'horror', releaseDate:'3.10.2013', description:'description'}, 'film', [])\r\nlet fiction3 = new Fiction(3, {coverPhoto:'', name:'It', author:'idk', genre:'horror', releaseDate:'3.10.2013', description:'description'}, 'book', [{user:0,rating:7}])\r\nlet fiction4 = new Fiction(4, {coverPhoto:'file://D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/webproject/src/images/ready_player_one.jpeg', name:'Ready Player One', author:'idk', genre:'sci-fi', releaseDate:'3.10.2013', description:'description'}, 'film', [{user:1,rating:9}])\r\n\r\n\r\nlet dbFictions = {fictions:[fiction0, fiction1, fiction2, fiction3, fiction4]}\r\n\r\n\r\nexport const getFictionById = (fiction_id)=>{\r\n  //returns fiction whose id was mentioned\r\n  for (let i = 0; i <dbFictions.fictions.length; i++) {\r\n    if(dbFictions.fictions[i].id == fiction_id){\r\n      return dbFictions.fictions[i]\r\n    }\r\n  }\r\n}\r\n\r\nexport const getAllFictions = () =>{\r\n  //returns list of all fictions\r\n  return dbFictions.fictions\r\n}\r\n\r\nexport const getAllFilms = ()=>{\r\n  //returns all fictions whose type is film\r\n  let films = []\r\n  for (let i = 0; i <dbFictions.fictions.length; i++) {\r\n    if(dbFictions.fictions[i].type == 'film'){\r\n      films.push(dbFictions.fictions[i])\r\n    }\r\n  }\r\n  return films\r\n}\r\n\r\nexport const getAllBooks = ()=>{\r\n  //returns all fictions whose type is film\r\n  let books = []\r\n  for (let i = 0; i <dbFictions.fictions.length; i++) {\r\n    if(dbFictions.fictions[i].type == 'book'){\r\n      books.push(dbFictions.fictions[i])\r\n    }\r\n  }\r\n  return books\r\n}\r\n\r\nexport const getRatingOfFictionFromUser=(fiction_id, user_id)=>{\r\n  //returns rating of mentioned fiction from mentioned user\r\n  for (let i = 0; i <dbFictions.fictions.length; i++) {\r\n    if(dbFictions.fictions[i].id == fiction_id){\r\n      for (let j = 0; j < dbFictions.fictions[i].overallRating.length; j++) {\r\n        if (dbFictions.fictions[i].overallRating[j].user == user_id) {\r\n          return dbFictions.fictions[i].overallRating[j].rating\r\n        }\r\n      }\r\n      return 0\r\n    }\r\n  }\r\n}\r\n\r\nexport const getOverallRatingOfFiction = (fiction_id)=>{\r\n  //return overall rating of fiction based on ratings of users in overallRating list\r\n  let overallRating = 0\r\n  for (let i = 0; i <dbFictions.fictions.length; i++) {\r\n    if(dbFictions.fictions[i].id == fiction_id){\r\n      for (let j = 0; j < dbFictions.fictions[i].overallRating.length; j++) {\r\n        overallRating += parseInt(dbFictions.fictions[i].overallRating[j].rating, 10)\r\n      }\r\n      overallRating = (overallRating/dbFictions.fictions[i].overallRating.length).toFixed(1)\r\n      return overallRating\r\n    }\r\n  }\r\n}\r\n\r\nexport const changeUsersRatingOfFiction = (fiction_id, user_id, rating) =>{\r\n  // changes mentioned user's rating of fiction in overallRating list of mentioned fiction\r\n  for (var i = 0; i <dbFictions.fictions.length; i++) {\r\n    if(dbFictions.fictions[i].id == fiction_id){\r\n      for (var j = 0; j < dbFictions.fictions[i].overallRating.length; j++) {\r\n        if (dbFictions.fictions[i].overallRating[j].user == user_id){\r\n          if (rating == ''){\r\n            dbFictions.fictions[i].overallRating.splice(j, 1)\r\n            return\r\n          } else {\r\n            dbFictions.fictions[i].overallRating[j].rating = rating\r\n            return\r\n          }\r\n        }\r\n      }\r\n      dbFictions.fictions[i].overallRating.push({user: user_id, rating:rating})\r\n      return\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}