{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learning\\\\Litsey_10th_grade\\\\Informatics\\\\Fictionlib\\\\SchoolProject\\\\client\\\\src\\\\components\\\\Elems\\\\FictionElem\\\\fictionElem.jsx\",\n    _s = $RefreshSig$();\n\nimport s from './fictionElem.module.css';\nimport { useNavigate } from \"react-router-dom\";\nimport { getOverallRatingOfFiction } from './../../../DataBase/Fictions.js';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FictionElem = props => {\n  _s();\n\n  const [overallRating, setOverallRating] = useState(0);\n  const [error, setError] = useState(null);\n  const [overallRIsLoaded, setOverallRIsLoaded] = useState(false);\n  const [link, setLink] = useState('/fiction/' + props.iD);\n  let navigate = useNavigate();\n  useEffect(() => {\n    getOverallRatingOfFiction(props.iD).then(result => {\n      setOverallRating(result);\n      setOverallRIsLoaded(true);\n    });\n  }, []);\n  let fictionLink = '';\n  let author_or_director = '';\n  fictionLink = '/fiction/' + props.iD;\n\n  if (props.type == 'book') {\n    author_or_director = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Author:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 29\n      }, this), \" \", props.info.author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 26\n    }, this);\n  } else if (props.type == 'film') {\n    author_or_director = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Director:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 29\n      }, this), \" \", props.info.director]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 26\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  } else if (!overallRIsLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.fictionElem,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.coverPhoto,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.info.coverPhoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.details,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: props.info.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Genre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 14\n          }, this), \" \", props.info.genre]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), author_or_director, /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Date of release:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 14\n          }, this), \" \", props.info.releaseDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 14\n          }, this), \" \", props.info.description.slice(0, 600)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.rating,\n        children: [\"Rating:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 42\n        }, this), \"Loading...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: s.butt1,\n        onClick: () => {\n          navigate(link);\n        },\n        children: \"Look!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  } else if (overallRIsLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.fictionElem,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.coverPhoto,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.info.coverPhoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.details,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: props.info.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Genre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 14\n          }, this), \" \", props.info.genre]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), author_or_director, /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Date of release:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 14\n          }, this), \" \", props.info.releaseDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 14\n          }, this), \" \", props.info.description.length > 600 ? props.info.description.slice(0, 600) + \"...\" : props.info.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.rating,\n        children: [\"Rating:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 42\n        }, this), overallRating]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: s.butt1,\n        onClick: () => {\n          navigate(link);\n        },\n        children: \"Look!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(FictionElem, \"Z1wthzIniISZ3tX5WyQObDhEYgQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = FictionElem;\nexport default FictionElem;\n\nvar _c;\n\n$RefreshReg$(_c, \"FictionElem\");","map":{"version":3,"sources":["D:/Learning/Litsey_10th_grade/Informatics/Fictionlib/SchoolProject/client/src/components/Elems/FictionElem/fictionElem.jsx"],"names":["s","useNavigate","getOverallRatingOfFiction","useState","useEffect","FictionElem","props","overallRating","setOverallRating","error","setError","overallRIsLoaded","setOverallRIsLoaded","link","setLink","iD","navigate","then","result","fictionLink","author_or_director","type","info","author","director","message","fictionElem","coverPhoto","details","name","genre","releaseDate","description","slice","rating","butt1","length"],"mappings":"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","sourcesContent":["import s from './fictionElem.module.css'\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {getOverallRatingOfFiction} from './../../../DataBase/Fictions.js'\r\nimport {useState, useEffect} from 'react'\r\n\r\nconst FictionElem = (props) =>{\r\n  const [overallRating, setOverallRating] = useState(0)\r\n  const [error, setError] = useState(null);\r\n  const [overallRIsLoaded, setOverallRIsLoaded] = useState(false);\r\n  const [link, setLink] = useState('/fiction/'+props.iD)\r\n\r\n  let navigate = useNavigate()\r\n\r\n  useEffect(()=>{\r\n    getOverallRatingOfFiction(props.iD)\r\n    .then((result)=>{\r\n      setOverallRating(result)\r\n      setOverallRIsLoaded(true)\r\n    })\r\n  }, [])\r\n\r\n  let fictionLink = '';\r\n  let author_or_director = ''\r\n\r\n  fictionLink = '/fiction/' + props.iD;\r\n  if (props.type == 'book'){\r\n    author_or_director = <p><b>Author:</b> {props.info.author}</p>\r\n  } else if (props.type == 'film'){\r\n    author_or_director = <p><b>Director:</b> {props.info.director}</p>\r\n  }\r\n\r\n  if (error){\r\n    return <div>Error: {error.message}</div>\r\n  }else if(!overallRIsLoaded){\r\n    return (\r\n      <div className={s.fictionElem}>\r\n        <div className={s.coverPhoto}><img src={props.info.coverPhoto} /></div>\r\n        <div className={s.details}>\r\n          <h3>{props.info.name}</h3>\r\n          <p><b>Genre:</b> {props.info.genre}</p>\r\n          {author_or_director}\r\n          <p><b>Date of release:</b> {props.info.releaseDate}</p>\r\n          <p><b>Description:</b> {props.info.description.slice(0, 600)}</p>\r\n        </div>\r\n        <div className={s.rating}>Rating:<br />Loading...</div>\r\n        <button className={s.butt1} onClick={()=>{navigate(link)}}>Look!</button>\r\n      </div>\r\n    )\r\n  } else if (overallRIsLoaded) {\r\n    return (\r\n      <div className={s.fictionElem}>\r\n        <div className={s.coverPhoto}><img src={props.info.coverPhoto} /></div>\r\n        <div className={s.details}>\r\n          <h3>{props.info.name}</h3>\r\n          <p><b>Genre:</b> {props.info.genre}</p>\r\n          {author_or_director}\r\n          <p><b>Date of release:</b> {props.info.releaseDate}</p>\r\n          <p><b>Description:</b> {(props.info.description.length > 600)?props.info.description.slice(0, 600)+\"...\":props.info.description}</p>\r\n        </div>\r\n        <div className={s.rating}>Rating:<br />{overallRating}</div>\r\n        <button className={s.butt1} onClick={()=>{navigate(link)}}>Look!</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FictionElem;\r\n"]},"metadata":{},"sourceType":"module"}